#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ç”Ÿæˆå ä½åº”ç”¨å›¾æ ‡è„šæœ¬
Generated by Qoder AI (Model: claude-sonnet-4-5-20250929) - 2025-10-23
Task: åˆ›å»ºä¸´æ—¶å ä½å›¾æ ‡ï¼Œç”¨äºå¼€å‘æµ‹è¯•
"""

from PIL import Image, ImageDraw, ImageFont
import os

def create_placeholder_icon(size, filename):
    """åˆ›å»ºå ä½å›¾æ ‡"""
    # åˆ›å»ºå›¾åƒï¼ˆæ·±è“è‰²èƒŒæ™¯ï¼‰
    img = Image.new('RGB', (size, size), color='#1E3A8A')
    draw = ImageDraw.Draw(img)
    
    # ç»˜åˆ¶æ£‹ç›˜ç½‘æ ¼ï¼ˆ5Ã—5çº¿ï¼Œå½¢æˆ4Ã—4æ ¼å­ï¼‰
    grid_color = '#FFFFFF'
    line_width = max(2, size // 100)
    grid_size = size // 5
    
    for i in range(5):
        # å‚ç›´çº¿
        x = grid_size + i * grid_size
        draw.line([(x, grid_size), (x, size - grid_size)], fill=grid_color, width=line_width)
        # æ°´å¹³çº¿
        y = grid_size + i * grid_size
        draw.line([(grid_size, y), (size - grid_size, y)], fill=grid_color, width=line_width)
    
    # ç»˜åˆ¶æ£‹å­
    piece_radius = grid_size // 3
    
    # é»‘è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    black_pieces = [(0, 0), (0, 1), (0, 2), (0, 3)]
    for row, col in black_pieces:
        x = grid_size + (col + 0.5) * grid_size
        y = grid_size + (row + 0.5) * grid_size
        draw.ellipse([x - piece_radius, y - piece_radius, 
                     x + piece_radius, y + piece_radius], 
                     fill='#000000', outline='#FFFFFF', width=line_width)
    
    # ç™½è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    white_pieces = [(3, 0), (3, 1), (3, 2), (3, 3)]
    for row, col in white_pieces:
        x = grid_size + (col + 0.5) * grid_size
        y = grid_size + (row + 0.5) * grid_size
        draw.ellipse([x - piece_radius, y - piece_radius, 
                     x + piece_radius, y + piece_radius], 
                     fill='#FFFFFF', outline='#000000', width=line_width)
    
    # ä¿å­˜å›¾åƒ
    img.save(filename, 'PNG', quality=95)
    print(f"âœ… åˆ›å»ºå ä½å›¾æ ‡: {filename} ({size}x{size})")

def create_adaptive_foreground(size, filename):
    """åˆ›å»ºAndroidè‡ªé€‚åº”å‰æ™¯å›¾æ ‡ï¼ˆé€æ˜èƒŒæ™¯ï¼‰"""
    # åˆ›å»ºé€æ˜èƒŒæ™¯å›¾åƒ
    img = Image.new('RGBA', (size, size), color=(0, 0, 0, 0))
    draw = ImageDraw.Draw(img)
    
    # ç»˜åˆ¶ç®€åŒ–çš„æ£‹ç›˜ï¼ˆ5Ã—5çº¿ï¼Œå½¢æˆ4Ã—4æ ¼å­ï¼‰
    grid_color = (30, 58, 138, 255)  # æ·±è“è‰²
    line_width = max(2, size // 50)
    grid_size = size // 5
    margin = size // 10
    
    for i in range(5):
        # å‚ç›´çº¿
        x = margin + grid_size + i * grid_size
        draw.line([(x, margin + grid_size), (x, size - margin - grid_size)], 
                 fill=grid_color, width=line_width)
        # æ°´å¹³çº¿
        y = margin + grid_size + i * grid_size
        draw.line([(margin + grid_size, y), (size - margin - grid_size, y)], 
                 fill=grid_color, width=line_width)
    
    # ç»˜åˆ¶æ£‹å­
    piece_radius = grid_size // 3
    
    # é»‘è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    for row, col in [(0, 1), (0, 2)]:
        x = margin + grid_size + (col + 0.5) * grid_size
        y = margin + grid_size + (row + 0.5) * grid_size
        draw.ellipse([x - piece_radius, y - piece_radius, 
                     x + piece_radius, y + piece_radius], 
                     fill=(0, 0, 0, 255), outline=(255, 255, 255, 255), width=line_width)
    
    # ç™½è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    for row, col in [(3, 1), (3, 2)]:
        x = margin + grid_size + (col + 0.5) * grid_size
        y = margin + grid_size + (row + 0.5) * grid_size
        draw.ellipse([x - piece_radius, y - piece_radius, 
                     x + piece_radius, y + piece_radius], 
                     fill=(255, 255, 255, 255), outline=(0, 0, 0, 255), width=line_width)
    
    # ä¿å­˜å›¾åƒ
    img.save(filename, 'PNG')
    print(f"âœ… åˆ›å»ºè‡ªé€‚åº”å‰æ™¯å›¾æ ‡: {filename} ({size}x{size})")

def create_splash_logo(size, filename):
    """åˆ›å»ºå¯åŠ¨å±Logo"""
    # åˆ›å»ºé€æ˜èƒŒæ™¯å›¾åƒ
    img = Image.new('RGBA', (size, size), color=(0, 0, 0, 0))
    draw = ImageDraw.Draw(img)
    
    # ç»˜åˆ¶åœ†å½¢èƒŒæ™¯
    bg_color = (30, 58, 138, 255)  # æ·±è“è‰²
    draw.ellipse([0, 0, size, size], fill=bg_color)
    
    # ç»˜åˆ¶æ£‹ç›˜
    grid_color = (255, 255, 255, 255)
    line_width = max(2, size // 50)
    grid_size = size // 6
    margin = size // 4
    
    for i in range(5):
        # å‚ç›´çº¿
        x = margin + i * grid_size
        draw.line([(x, margin), (x, size - margin)], fill=grid_color, width=line_width)
        # æ°´å¹³çº¿
        y = margin + i * grid_size
        draw.line([(margin, y), (size - margin, y)], fill=grid_color, width=line_width)
    
    # ç»˜åˆ¶ä¸­å¿ƒæ£‹å­
    center = size // 2
    piece_radius = grid_size // 2
    
    # é»‘è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    black_x = margin + grid_size * 1.5
    black_y = margin + grid_size * 1.5
    draw.ellipse([black_x - piece_radius, black_y - piece_radius, 
                 black_x + piece_radius, black_y + piece_radius], 
                 fill=(0, 0, 0, 255), outline=(255, 255, 255, 255), width=line_width)
    
    # ç™½è‰²æ£‹å­ï¼ˆæ”¾åœ¨æ ¼å­ä¸­å¿ƒï¼‰
    white_x = margin + grid_size * 2.5
    white_y = margin + grid_size * 2.5
    draw.ellipse([white_x - piece_radius, white_y - piece_radius, 
                 white_x + piece_radius, white_y + piece_radius], 
                 fill=(255, 255, 255, 255), outline=(0, 0, 0, 255), width=line_width)
    
    # ä¿å­˜å›¾åƒ
    img.save(filename, 'PNG')
    print(f"âœ… åˆ›å»ºå¯åŠ¨å±Logo: {filename} ({size}x{size})")

def main():
    """ä¸»å‡½æ•°"""
    print("=" * 60)
    print("ç”Ÿæˆå ä½åº”ç”¨å›¾æ ‡")
    print("=" * 60)
    print()
    
    # ç¡®ä¿ç›®å½•å­˜åœ¨
    icon_dir = os.path.join('assets', 'icon')
    splash_dir = os.path.join('assets', 'splash')
    
    os.makedirs(icon_dir, exist_ok=True)
    os.makedirs(splash_dir, exist_ok=True)
    
    # ç”Ÿæˆå›¾æ ‡
    print("ğŸ¨ ç”Ÿæˆå ä½å›¾æ ‡...")
    create_placeholder_icon(1024, os.path.join(icon_dir, 'app_icon.png'))
    create_adaptive_foreground(432, os.path.join(icon_dir, 'adaptive_foreground.png'))
    create_splash_logo(512, os.path.join(splash_dir, 'logo.png'))
    
    print()
    print("=" * 60)
    print("âœ… å ä½å›¾æ ‡ç”Ÿæˆå®Œæˆï¼")
    print()
    print("âš ï¸  æ³¨æ„ï¼šè¿™äº›æ˜¯ä¸´æ—¶å ä½å›¾æ ‡ï¼Œç”¨äºå¼€å‘æµ‹è¯•")
    print("   æ­£å¼å‘å¸ƒå‰è¯·æ›¿æ¢ä¸ºä¸“ä¸šè®¾è®¡çš„å›¾æ ‡")
    print()
    print("ä¸‹ä¸€æ­¥æ“ä½œï¼š")
    print("1. è¿è¡Œ: flutter pub run flutter_launcher_icons")
    print("2. è¿è¡Œ: flutter pub run flutter_native_splash:create")
    print("3. æµ‹è¯•: flutter run")
    print("=" * 60)

if __name__ == '__main__':
    try:
        main()
    except ImportError:
        print("âŒ é”™è¯¯ï¼šæœªå®‰è£…PILåº“")
        print()
        print("è¯·å…ˆå®‰è£…Pillowï¼š")
        print("  pip install Pillow")
        print()
        print("æˆ–ä½¿ç”¨å…¶ä»–æ–¹æ³•åˆ›å»ºå ä½å›¾æ ‡")
